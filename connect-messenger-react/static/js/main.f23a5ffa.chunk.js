(this["webpackJsonpreact-spring-chat-app"]=this["webpackJsonpreact-spring-chat-app"]||[]).push([[0],{136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(70),r=n.n(c),i=(n(80),n(28)),o=n(6),u=(n(81),n(7)),l=n.n(u),d=n(18),h=n(8),j=n(9),g=n(36),b=n(71),f=n.n(b),m=n(146),p=n(43),O=n(72),v=Object(O.a)("days"),x=function(){function e(t,n,s){Object(h.a)(this,e),this.prevDate=t,this.currentDate=n,this.nextDate=s}return Object(j.a)(e,[{key:"currentToHourMinute",value:function(){var e=this.currentDate.getHours();e<10&&(e="0"+e);var t=this.currentDate.getMinutes();return t<10&&(t="0"+t),"".concat(e,":").concat(t)}},{key:"currentToPretty",value:function(){var t=this.currentDate.getMonth()+1,n=this.currentDate.getDate(),s=this.currentDate.getHours(),a=this.currentDate.getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),s<10&&(s="0"+s),a<10&&(a="0"+a),"".concat(Object(p.a)(e,v)[v][this.currentDate.getDay()],", ").concat(this.currentDate.getFullYear(),".").concat(t,".").concat(n,", ").concat(s,":").concat(a)}},{key:"displayDayIfDifferent",value:function(){return this.currentDate.getTime()-this.prevDate.getTime()>864e5?"".concat(Object(p.a)(e,v)[v][this.currentDate.getDay()],", "):""}},{key:"is5MinDiffBefore",value:function(){return this.currentDate.getTime()-this.prevDate.getTime()<3e5}},{key:"is5MinDiffAfter",value:function(){return this.nextDate.getTime()-this.currentDate.getTime()<3e5}}],[{key:"nowToSql",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),a=e.getHours(),c=e.getMinutes(),r=e.getSeconds();return n<10&&(n="0"+n),s<10&&(s="0"+s),a<10&&(a="0"+a),c<10&&(c="0"+c),r<10&&(r="0"+r),"".concat(t,"-").concat(n,"-").concat(s,"T").concat(a,":").concat(c,":").concat(r)}},{key:"sqlToDateObject",value:function(e){var t=e.substring(0,4),n=e.substring(5,7),s=e.substring(8,10),a=e.substring(11,13),c=e.substring(14,16);return new Date(t,n-1,s,a,c)}}]),e}();Object.defineProperty(x,v,{writable:!0,value:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"]});var _=x,y=n(73),w="http://192.168.8.104:8080",D=n.n(y).a.create({baseURL:w}),S=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,null,[{key:"signIn",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("/login",JSON.stringify({username:t,password:n}),{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});case 3:if(200!==(s=e.sent).status){e.next=9;break}return a=s.headers.authentication,localStorage.setItem("token",a),this.authDetails=Object(g.a)(a),e.abrupt("return",!0);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isSignedIn",value:function(){return!!localStorage.getItem("token")&&(!(!this.authDetails&&(this.authDetails=Object(g.a)(localStorage.getItem("token")),Date.now()>=1e3*this.authDetails.exp))||(localStorage.removeItem("token"),this.authDetails=null,!1))}},{key:"getAuthDetails",value:function(){if(this.isSignedIn())return this.authDetails||(this.authDetails=Object(g.a)(localStorage.getItem("token"))),this.authDetails;throw new Error("User isn't signed in!")}},{key:"signOut",value:function(){var e=this;this.stompClient&&(this.stompClient.disconnect((function(){return console.log("Disconnected from websocket, this equals: ",e)})),this.stompClient=null),localStorage.removeItem("token"),this.authDetails=null}},{key:"initWebsocket",value:function(e,t){var n=this;if(!this.isSignedIn())throw new Error("User isn't signed in!");if(this.stompClient)throw new Error("Websocket is already opened!");this.stompClient=m.a.over((function(){return new f.a("".concat(w,"/websocket"))})),this.stompClient.connect({Authentication:localStorage.getItem("token")},(function(){n.password=void 0,e.forEach((function(e){n.stompClient.subscribe("/topic/messages/".concat(e.id),t)}))}))}},{key:"subscribeToChat",value:function(e,t){if(!this.isSignedIn())throw new Error("User isn't signed in!");if(!this.stompClient)throw new Error("Websocket connection doesn't exists. Call initWebsocket() method first.");this.stompClient.subscribe("/topic/messages/".concat(e),t)}},{key:"loadAllChats",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSignedIn()){e.next=2;break}throw new Error("User isn't signed in!");case 2:return e.next=4,D.get("/chats/".concat(this.getAuthDetails().id),{headers:{Authorization:localStorage.getItem("token")}});case 4:return t=e.sent,e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateStatus",value:function(e,t){if(!this.isSignedIn())throw new Error("User isn't signed in!");console.log({id:{chatId:e,userId:this.getAuthDetails().id},messageId:t,time:_.nowToSql()}),D.put("/status",{id:{chatId:e,userId:this.getAuthDetails().id},messageId:t,time:_.nowToSql()},{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}})}},{key:"postMessage",value:function(e,t){if(!this.isSignedIn())throw new Error("User isn't signed in!");D.post("/message",{chatId:e,userId:this.getAuthDetails().id,time:_.nowToSql(),content:t},{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}})}},{key:"searchUsersByQuery",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSignedIn()){e.next=2;break}throw new Error("User isn't signed in!");case 2:return e.next=4,D.get("/user/".concat(t),{headers:{Authorization:localStorage.getItem("token")}});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=n(34),k=n(35),C=n(5),T=function(e,t){switch(t.type){case"SET_DETAILS":return t.newDetails;case"RESET_DETAILS":return null;default:return e}},N=n(0),E=Object(s.createContext)(),M=function(e){var t=e.children,n=Object(s.useReducer)(T,null,(function(){try{return S.getAuthDetails()}catch(e){return null}})),a=Object(C.a)(n,2),c=a[0],r=a[1];return Object(N.jsx)(E.Provider,{value:{authDetails:c,dispatch:r},children:t})},A=n(11),P=n(31),R=function(e,t){switch(t.type){case"ADD_MESSAGE":var n=e.chats.reduce((function(e,n,s){return n.id===t.newMessage.chatId?s:e}),-1);if(-1===n)return e;console.log("target = "+n);var s=[].concat(Object(P.a)(e.chats[n].messages),[t.newMessage]),a=Object(A.a)(Object(A.a)({},e.chats[n]),{},{messages:s}),c=Object(P.a)(e.chats);return c[n]=a,document.querySelector(".messages__container").scrollTop=document.querySelector(".messages__container").scrollHeight,Object(A.a)(Object(A.a)({},e),{},{chats:c});case"SET_CHATS":return console.log("SET_CHATS inside ChatReducer"),Object(A.a)(Object(A.a)({},e),{},{chats:t.newChats});case"SET_ACTIVE":return Object(A.a)(Object(A.a)({},e),{},{active:t.newActive});case"UPDATE_STATUS":var r=e.chats.reduce((function(e,n,s){return n.id===t.newStatus.id.chatId?s:e}),-1);if(console.log("target = "+r),-1===r)return e;var i=Object(P.a)(e.chats[r].status);i[i[0].id.userId===t.newStatus.id.userId?0:1]=t.newStatus;var o=Object(A.a)(Object(A.a)({},e.chats[r]),{},{status:i}),u=Object(P.a)(e.chats);return u[r]=o,Object(A.a)(Object(A.a)({},e),{},{chats:u});case"CLEAR":return{chats:[],active:0};default:return console.log("No matching case for: ".concat(t.type," inside chatReducer")),e}},q=Object(s.createContext)(),B=function(e){var t=e.children,n=Object(s.useReducer)(R,{chats:[],active:0}),a=Object(C.a)(n,2),c=a[0],r=a[1];return Object(N.jsx)(q.Provider,{value:{state:c,dispatch:r},children:t})},U=function(){var e=Object(o.g)(),t=Object(s.useContext)(E),n=t.authDetails,a=t.dispatch,c=Object(s.useContext)(q).dispatch;return Object(N.jsxs)("header",{className:"header",children:[Object(N.jsxs)("span",{className:"header__title",children:[Object(N.jsx)("span",{"aria-hidden":"true",style:{fontWeight:"800"},children:">>> "}),"CONNECT"]}),n&&Object(N.jsx)(I.a,{icon:k.a,size:"3x",onClick:function(){S.signOut(),a({type:"RESET_DETAILS"}),c({type:"CLEAR"}),e.replace("/login")}})]})},H=(n(136),function(e){var t=e.roundedCorner,n=Object(s.useState)([]),a=Object(C.a)(n,2),c=a[0],r=a[1],i=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==(n=t.target.value)?S.searchUsersByQuery(n).then((function(e){r(e)})):r([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"search",style:{borderBottomRightRadius:t?"20px":0},children:[Object(N.jsx)(I.a,{icon:k.b,size:"5x"}),Object(N.jsxs)("div",{className:"search__container",children:["Szukaj:",Object(N.jsx)("input",{type:"text",className:"search__queryInput",onInput:i}),Object(N.jsx)("div",{className:"search__queryResult",children:Object(N.jsx)("ul",{children:c.map((function(e){return Object(N.jsx)("li",{children:"".concat(e.name," ").concat(e.surname)},e.username)}))})})]})]})}),L=(n(137),function(e){var t=e.chat,n=e.modifier,a=e.onClick,c=Object(s.useContext)(E).authDetails,r=t.messages[(null===t||void 0===t?void 0:t.messages.length)-1],i=t.users[t.users[0].id!==c.id?0:1];return Object(N.jsxs)("div",{className:"chatItem".concat(n),onClick:a,children:[Object(N.jsx)("img",{src:"./images/avatars/".concat(i.username,".png"),alt:"User avatar"}),Object(N.jsxs)("div",{className:"chatItem__chatData",children:[Object(N.jsx)("span",{className:"chatItem__chatData__nameSurname",children:i.name+" "+i.surname}),Object(N.jsx)("span",{className:"chatItem__chatData__lastMessage",children:(r.userId===i.id?i.name:"Ty")+": "+r.content.substring(0,35)+(r.content.length>35?"...":"")})]})]})}),z=(n(138),function(){var e=Object(s.useContext)(q),t=e.state,n=t.chats,a=t.active,c=e.dispatch,r=n.map((function(e,t){var n="";switch(t){case a-1:n=" chatItem--beforeActive";break;case a:n=" chatItem--active";break;case a+1:n=" chatItem--afterActive"}return Object(N.jsx)(L,{chat:e,modifier:n,onClick:function(){return c({type:"SET_ACTIVE",newActive:t})}},t)}));return Object(N.jsx)("div",{className:"leftPanel",children:Object(N.jsxs)("div",{className:"leftPanel__flipped",children:[Object(N.jsx)(H,{roundedCorner:0===a}),r,Object(N.jsx)("div",{className:"leftPanel__foo",style:a===(null===n||void 0===n?void 0:n.length)-1?{borderTopRightRadius:"20px"}:{}})]})})}),W=(n(139),n(140),function(){var e=Object(s.useState)(""),t=Object(C.a)(e,2),n=t[0],a=t[1],c=Object(s.useContext)(q).state,r=c.chats,i=c.active;return Object(N.jsxs)("form",{className:"newMessageInput",onSubmit:function(e){e.preventDefault(),n&&(S.postMessage(r[i].id,n),a(""))},children:[Object(N.jsx)("input",{type:"text",value:n,className:"newMessageInput__input",onInput:function(e){return a(e.target.value)}}),Object(N.jsx)("input",{type:"image",className:"newMessageInput__btn",src:"images/send.png",alt:"Send"})]})}),F=function(e,t){var n=Object(s.useState)(null),a=Object(C.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(null),o=Object(C.a)(i,2),u=o[0],l=o[1],d=Object(s.useState)(null),h=Object(C.a)(d,2),j=h[0],g=h[1];return Object(s.useEffect)((function(){if(e&&t){var n=e.status[0].id.userId===t.id?0:1,s=e.status[0].id.userId!==t.id?0:1;"number"===typeof n&&"number"===typeof s&&(r(null===e||void 0===e?void 0:e.status[n].messageId),l(null===e||void 0===e?void 0:e.status[s].messageId),g(null===e||void 0===e?void 0:e.messages[(null===e||void 0===e?void 0:e.messages.length)-1].id))}}),[e,t]),{myLastMessage:c,recipientLastMessage:u,lastMessage:j}},J=function(e,t){var n=Object(s.useState)(e[t]),a=Object(C.a)(n,2),c=a[0],r=a[1];return Object(s.useEffect)((function(){e&&"number"===typeof t&&r(e[t])}),[e,t]),c},G=(n(141),function(e){var t,n,a,c=e.bottom,r=e.opacity,i=Object(s.useContext)(q).state,o=i.chats,u=i.active,l=Object(s.useContext)(E).authDetails.id,d=null===(t=o[u])||void 0===t?void 0:t.users[(null===(n=o[u])||void 0===n||null===(a=n.users[0])||void 0===a?void 0:a.id)!==l?0:1].username;return Object(N.jsx)("img",{className:"seenAvatar",src:"./images/avatars/".concat(d,".png"),alt:"seen avatar",style:{bottom:"".concat(c,"px"),opacity:Number.isNaN(r)?0:r}})}),Q=function(e){var t,n,s=e.bottom,a=window.innerHeight-(null===(t=document.querySelector(".messages__container"))||void 0===t?void 0:t.getBoundingClientRect().bottom),c=window.innerHeight-(null===(n=document.querySelector(".messages__container"))||void 0===n?void 0:n.getBoundingClientRect().top),r=Math.min(Math.max(s,a-20),c+20),i=Math.min(Math.max((r-a+10)/10,0),Math.max((c-r-10)/10,0),1);return Object(N.jsx)("div",{className:"seenAvatarsPanel",children:Object(N.jsx)(G,{bottom:r,opacity:i})})},V=function(){var e=Object(d.a)(l.a.mark((function e(t,n,s){var a,c,r,i,o,u,d,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=.01,c=n,r=1e4,i=0,o=s-n,u=Math.sqrt(2*o/r),d=u/a,h=0;case 8:if(!(h<d)){e.next=17;break}return c=n+r*Math.pow(i,2)/2,i+=a,t(c),e.next=14,new Promise((function(e){return setTimeout(e,1e3*a)}));case 14:h++,e.next=8;break;case 17:t(s);case 18:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),Y=a.a.forwardRef((function(e,t){var n=e.message,s=e.modifier,a=e.dateFormatter;return Object(N.jsxs)(N.Fragment,{children:[!a.is5MinDiffBefore()&&Object(N.jsx)("div",{className:"messages__time",children:a.displayDayIfDifferent()+a.currentToHourMinute()}),Object(N.jsxs)("div",{ref:t,id:"messageId".concat(n.id),className:"messages__singleMessage".concat(s),children:[n.content,Object(N.jsx)("div",{className:"messages__singleMessage__tooltip",children:a.currentToPretty()})]})]})})),K=function(){var e=Object(s.useContext)(q).state,t=e.chats,n=e.active,a=Object(s.useContext)(E).authDetails,c=J(t,n),r=F(c,a),i=r.myLastMessage,o=r.recipientLastMessage,u=r.lastMessage,l=Object(s.useState)(null),d=Object(C.a)(l,2),h=d[0],j=d[1],g=Object(s.useRef)(null),b=Object(s.useRef)(null),f=Object(s.useRef)(null);Object(s.useEffect)((function(){f.current=h}),[h]);var m=Object(s.useCallback)((function(e){e&&(b.current=e,f.current?V(j,f.current,e.getBoundingClientRect().bottom):j(e.getBoundingClientRect().bottom))}),[]);Object(s.useEffect)((function(){g.current&&(g.current.scrollTop=g.current.scrollHeight),b.current&&j(b.current.getBoundingClientRect().bottom)}),[c]),Object(s.useEffect)((function(){i&&u&&i!==u&&S.updateStatus(c.id,u)}),[i,u]);var p=null===c||void 0===c?void 0:c.messages.map((function(e,t){var n,s=c.messages,r=_.sqlToDateObject(e.time);if(0===t)n=new Date(1970);else{var i=s[t-1];n=_.sqlToDateObject(i.time)}var u,l=s.length;if(t===l-1)u=new Date(2038,1,19);else{var d=s[t+1];u=_.sqlToDateObject(d.time)}var h=new _(n,r,u),j="";if(e.userId===a.id?j+=" messages__singleMessage--myMsg":j+=" messages__singleMessage--receivedMsg",0===t)s[1].userId===s[0].userId&&h.is5MinDiffAfter()&&(j+=" messages__singleMessage--bottomSticky");else if(t===l-1)s[l-2].userId===s[l-1].userId&&h.is5MinDiffBefore()&&(j+=" messages__singleMessage--topSticky");else{var g,b;(null===(g=s[t-1])||void 0===g?void 0:g.userId)===e.userId&&h.is5MinDiffBefore()&&(j+=" messages__singleMessage--topSticky"),(null===(b=s[t+1])||void 0===b?void 0:b.userId)===e.userId&&h.is5MinDiffAfter()&&(j+=" messages__singleMessage--bottomSticky")}var f=o===e.id?m:null;return Object(N.jsx)(Y,{ref:f,message:e,modifier:j,dateFormatter:h},t)})),O=Object(s.useState)(0),v=Object(C.a)(O,2),x=(v[0],v[1]);return Object(s.useEffect)((function(){var e=function(){x(window.innerHeight),b.current&&j(b.current.getBoundingClientRect().bottom)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),Object(N.jsxs)("div",{className:"messages",children:[Object(N.jsxs)("div",{ref:g,className:"messages__container",onScroll:function(){b.current&&j(b.current.getBoundingClientRect().bottom)},children:[Object(N.jsx)("div",{className:"messages__container__displayContent",children:p}),Object(N.jsx)(Q,{bottom:window.innerHeight-h})]}),Object(N.jsx)(W,{})]})},X=(n(142),function(){var e=Object(s.useContext)(E).dispatch,t=Object(s.useState)(!1),n=Object(C.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),i=Object(C.a)(r,2),u=i[0],h=i[1],j=Object(s.useState)(""),g=Object(C.a)(j,2),b=g[0],f=g[1],m=Object(o.g)(),p=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,S.signIn(u,b);case 3:t.sent?(e({type:"SET_DETAILS",newDetails:S.getAuthDetails()}),m.push("/")):(console.log("Auth failed"),c(!0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return S.isSignedIn()?Object(N.jsx)(o.a,{to:"/"}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"loginPage",children:[Object(N.jsxs)("span",{className:"loginPage__title",children:[Object(N.jsx)("span",{"aria-hidden":"true",style:{fontWeight:700},children:">>> "})," restore your CONNECTion"]}),Object(N.jsxs)("form",{className:"loginPage__form",onSubmit:p,children:[Object(N.jsx)("label",{className:"loginPage__label",children:"your username:"}),Object(N.jsx)("input",{type:"text",className:"loginPage__input",onInput:function(e){return h(e.target.value)}}),Object(N.jsx)("label",{className:"loginPage__label",children:"password:"}),Object(N.jsx)("input",{type:"password",className:"loginPage__input",onInput:function(e){return f(e.target.value)}}),Object(N.jsx)("input",{type:"submit",className:"loginPage__input",value:"sign in"})]}),a&&Object(N.jsx)("span",{className:"loginPage__authFailed",children:"Bad credentials! Try again"})]}),Object(N.jsxs)("footer",{children:[Object(N.jsxs)("b",{children:[Object(N.jsx)("span",{"aria-hidden":"true",children:">>>"})," ",Object(N.jsx)("i",{children:"CONNECT"})]})," - free text messenger | \xa9 CONNECT Inc. 2021"]})]})}),Z=(n(143),function(){var e=Object(s.useContext)(E).authDetails;return Object(N.jsxs)("div",{className:"rightPanel",children:[Object(N.jsx)("img",{src:"./images/avatars/".concat(e.username,".png"),alt:"User avatar",className:"rightPanel__userAvatar"}),Object(N.jsx)("span",{className:"rightPanel__nameSurname",children:e.name+" "+e.surname}),Object(N.jsx)("span",{className:"rightPanel__username",children:e.username})]})}),$=n(75),ee=["children"],te=function(e){var t=e.children,n=Object($.a)(e,ee);return Object(N.jsx)(o.b,Object(A.a)(Object(A.a)({},n),{},{children:S.isSignedIn()?t:Object(N.jsx)(o.a,{to:"/login"})}))},ne=function(){var e=Object(s.useContext)(q).dispatch,t=Object(s.useContext)(E).authDetails,n=function(t){var n=JSON.parse(t.body);n.content?e({type:"ADD_MESSAGE",newMessage:n}):e({type:"UPDATE_STATUS",newStatus:n})};return Object(s.useEffect)((function(){console.log("authDetails useEffect called"),console.log("authDetails = "),console.log(t),t&&S.loadAllChats().then((function(t){e({type:"SET_CHATS",newChats:t}),S.initWebsocket(t,n)}))}),[t]),Object(N.jsxs)(i.a,{children:[Object(N.jsx)(U,{}),Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{path:"/login",children:Object(N.jsx)(X,{})}),Object(N.jsx)(te,{path:"/",children:Object(N.jsxs)("div",{className:"app__container",children:[Object(N.jsx)(z,{}),Object(N.jsx)(K,{}),Object(N.jsx)(Z,{})]})})]})]})};window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))})),r.a.render(Object(N.jsx)(M,{children:Object(N.jsx)(B,{children:Object(N.jsx)(ne,{})})}),document.getElementById("root"))},80:function(e,t,n){},81:function(e,t,n){}},[[144,1,2]]]);
//# sourceMappingURL=main.f23a5ffa.chunk.js.map